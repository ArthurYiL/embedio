<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Upgrade guide for v2 users | Unosquare EmbedIO </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Upgrade guide for v2 users | Unosquare EmbedIO ">
    <meta name="generator" content="docfx 2.44.0.0">
    
    <link rel="shortcut icon" href="../src/Command/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/bootstrap.min.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container-fluid">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="logo" src="../best-practices/resources/images/unosquare_logo.svg" alt="Unosquare">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar">
          <div class="container-fluid hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container-fluid body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items"></div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container-fluid body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="upgrade-guide-for-v2-users">Upgrade guide for v2 users</h1>

<h3 id="general">General</h3>
<ul>
<li>The assembly name is now <code>EmbedIO.dll</code> (instead of <code>Unosquare.Labs.EmbedIO.dll</code>).</li>
<li>The root namespace is now <code>EmbedIO</code> (instead of <code>Unosquare.Labs.EmbedIO</code>).</li>
<li>Namespaces have been reorganized: instead of a code-type-based approach (<code>Constants</code>, <code>Modules</code>, etc.) now they follow a more common feature-based approach. For example you will find class <code>WebApiModule</code>, together with its support types, in namespace <code>EmbedIO.WebApi</code> (previously it was in <code>Unosquare.Labs.EmbedIO.Modules</code>).</li>
</ul>
<h3 id="web-server-initialization">Web server initialization</h3>
<p>Gone are <code>RegisterModule</code> and <code>Module&lt;T&gt;()</code>: the preferred method of initialization is via fluent extension methods. Although there are plenty of them, they have consistent syntax and semantics, so they can be grasped in a few minutes. While we prepare more extensive documentation, you can find them <a href="https://github.com/unosquare/embedio/search?q=Extensions">here</a>.</p>
<h3 id="routing">Routing</h3>
<p>Wildcard routing strategy has been removed: routing is Regex-based everywhere.</p>
<h3 id="http-context-handlers">HTTP context handlers</h3>
<p>HTTP context handlers do not return <code>bool</code> any longer; instead, they are void functions (<code>Sub</code>s, if you speak VB). Whether a HTTP context gets passed along to further modules is decided, by default, on a module-per-module basis, via the <code>IWebModule.IsFinalHandler</code> property; this default may be overridden by a handler, either by calling <code>context.SetHandled()</code> to stop futher processing, or with <code>throw RequestHandler.PassThrough();</code> to skip the currently executing handler and pass the context along to subsequent modules.</p>
<h3 id="web-api">Web API</h3>
<p>Web API controller methods can now be <code>void</code> (or return <code>Task</code>) too.</p>
<p>A response with a status code different from <code>200 OK</code> may be generated by throwing a HTTP exception (e.g. <code>throw HttpException.Unauthorized();</code>, <code>throw HttpException.Redirect(&quot;/&quot;);</code>, etc. - find them all <a href="https://github.com/unosquare/embedio/blob/master/src/EmbedIO/HttpException-Shortcuts.cs">here</a>).</p>
<p>If a controller method returns a value or a <code>Task&lt;TResult&gt;</code>, the result is serialized and sent as response body.</p>
<p><strong>BEWARE:</strong> Existing controller methods returning <code>bool</code> <em>will generate JSON responses</em> containing their serialized return value, as JSON is the default response serializer for web API modules.</p>
<h3 id="serving-files">Serving files</h3>
<p>No more <code>StaticFilesModule</code> and <code>ResourceFilesModule</code>: the new <code>FileModule</code> (in namespace <code>EmbedIO.Files</code>, of course) uses an <code>IFileProvider</code> interface to abstract the file system and provides the same level of functionality (compression, caching, support for range requests) regardless of the underlying storage. File providers are available for static files, embedded resources, and <em>(new!)</em> ZIP files.</p>
<h3 id="fallback-and-quick-actions">Fallback and &quot;quick&quot; actions</h3>
<p><code>FallbackModule</code> functionality has been split between <code>ActionModule</code> and <code>RedirectModule</code>. As you&#39;ve probably guessed, their namespace is <code>EmbedIO.Actions</code>.</p>
<h3 id="unit-testing-support">Unit testing support</h3>
<p>Support types for unit testing have been moved to their own assembly <code>EmbedIO.Testing.dll</code>.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="doc" align="center">
              <span class="small mobile-hide">
                <img id="logo" class="doc-logo" src="../embedio.png" alt="">
              </span>
            </div>
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li class="top-sep">
                    <a href="https://github.com/unosquare/embedio.wiki/blob/master/Upgrade-from-v2.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © 2017-2019 <a href="https://www.unosquare.com">Unosquare</a></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-8535255-2', 'auto');
        ga('send', 'pageview');
    </script>
  </body>
</html>
